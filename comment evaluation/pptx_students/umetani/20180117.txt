データ連結による
運行情報と歩行
情報の統合


指導教員：鷹野
孝
典
准教授


学籍番号：
1321083


氏名：梅谷
大樹



研究
背景


.
既存の経路検索サービスは目的地まで鉄道を利用し
た経路が検索されることが多い．
.
電車
の乗り換え時に駅の距離が近い場合がある．



関連研究


.
経路編集を用いた乗換案内における経路探索方式
（
2016
）
.
システム側で持ち合わせていない外的評価をシステム側に伝える経路編集式乗換案内の実現に
向けて，提示する経路へ反映可能な入力インターフェースを提案する．


.
鉄道による移動所要時間の可視化
（
2014
）
.
鉄道による移動所要時間をわかりやすく可視化するウェアアプリケーションの作成．


.
歩道
ネットワークを用いた鉄道駅周辺の徒歩移動距離および迂回率の分析
（
2006
）
.
GIS
上で歩道ネットワークを作成し，駅から周辺施設までの徒歩移動距離と迂回率を算出する．


.
幹線鉄道の乗換駅における乗換環境の評価に関する研究（
2008
）
.
乗換環境の総合的評価手法を構築することを目標としている．


.
健康管理アプリケーション
.
走行や階段歩行などの数値を
Android
端末に搭載されている加速度センサとジャイロセンサを
使用し，データを集計してカロリー計算する
．







研究
動機


.
既存の路線検索システムでは歩いて行ける距離にも関わら
ず鉄道を利用した経路を提案されてしまうことがある．
.
乗り換え駅で通勤ラッシュなど渋滞があった場合，電車待
ちをしているよりも歩いて次の駅に向かった方がいい場合
がある．
.
電車の運行情報以外の移動手法を推薦する．
.
運行情報と推定歩行情報の統合をする．





研究課題


.
位置情報，運行情報，地理情報のデータにまとまりがな
い
．
個人のプロファイルの反映ができていない．
.
利用者にどのように歩く動機付けをさせるか．



本研究のアプローチ


.
既存の鉄道乗り換えサービスに機能拡張をする形で
歩行推薦を行う
．
.
位置情報，運行情報，地理情報のデータを空間的に
連結することにより個人プロファイルの歩行条件と
照らし合わせて運行情報と歩行情報を統合させる
．
.
カロリー
情報と駅・鉄道運航情報を統合することで付加価
値の高い情報を
生成する．







提案システム


.
駅・路線情報を取得して情報統合をすることで鉄道経路と
歩行経路の検索を行う．
.
消費カロリーを明確にすることで歩く意欲を向上させる．
.
本研究では徒歩のみをカロリー計算の対象とする．


.
乗り換え先の駅との距離がユーザの指定した範囲内に入っ
ているのなら歩行を推薦する．



提案システム図


路線検索機能


歩行推薦機能


駅情報
DB


カロリー計算，距離
計算機能


ユーザプロファイル，
条件決め


Map


ユーザ



歩行推薦の例
1
-
1


.
乗り換える
1
つ前の乗り換えた後の
1
つ先の駅との距
離が近い場合
.
<
例
:
東京メトロ丸の内線
荻窪
→
新宿三丁目




東京メトロ副都心線
新宿三丁目
→
東新宿
>


.
2
点間が設定した距離内
(2km)
ならば歩行を推薦





歩行推薦の例
1
-
2


1.5km


950m


1.7km


乗換駅


B
駅


C
駅


12:10
着
12:14
発


12:17
着
12:23
発


12:25
着


12:02
発


A
駅


ユーザの条件：
2km
以内
なら歩く


B
→
乗換
→
C
時間
10
分，距離
2km


電車のみの場合は
23
分かかる


B
→
C
の時間
20
分，距離
1.7km


B
駅から歩く場合は
33
分かかる


鉄道移動


歩行移動



歩行推薦の例
2


.
目的地が最終駅より手前にあった場合，通過地点から目的
地までの歩行経路を推薦する．


開始地点


最終
駅


通過
地点


鉄道移動


歩
行移動


目的地



実装


.
路線情報、歩行推薦を下記の
API
を利用して取得．
1.
Google maps API
.
開始地点から終了地点までの経路と距離を検索．
.
2
点間の距離を歩くことで消費されるカロリーを計算．


2.
駅すぱあと
API
.
開始地点と終了地点の駅名を入力して検索結果
を
URL
で表示．


.
上記
の
情報を統合して乗り換え時の歩行推薦をするシステムを
実装する．



実装
1
-
1


.
Google Maps API
の情報を使い
2
点間のルート案内を行う．
.
2
点間の移動距離，消費カロリーを計算して表示．
.
計算式：消費カロリー
(kcal)=METs
×
運動時間
(h)
×
体重
(kg)
×
1.05




(METs
：運動や身体活動の強度の単位．ウォーキングの値は
3)


※ 
参考
文献


e
-
ヘルスネット
<https://www.e
-
healthnet.mhlw.go.jp/information/dicionary/exercise/ys
-
004.html
>



実装
1
-
2



実装
2
-
1


.
出発地点と終了地点の駅名を入力すると検索結果が
URL
で回答
される．
Python
を使用してこの
URL
から駅情報，時刻情報を取
得する．



実装
2
-
2



実験



実験内容


.
実験用として駅情報をソースコード内に入力して検索を行う．
.
現在地から設定した範囲内にある駅との距離を計算．その中で
最も目的地に近い駅までの歩行経路を利用者に推薦する．



実験
1
-
1


.
実験用として駅情報をデータベースに格納して歩行経路の検索
を行えるかの実験を行う．



実験
1
-
2


.
現在地から設定した範囲内にある駅との距離を計算．その中で
最も目的地に近い駅までの歩行経路を利用者に推薦する．



