時系列画像集合の類似度に基
づいた外観変化の検知手法の
検討


学籍番号：
1421166
氏名：松岡
未紗


指導教員：鷹野孝典



研究背景


.
観賞魚は環境適応能力が強まり，飼育経験の豊富でな
い人でもペットとして飼育可能
.
水温や水質によるストレスに弱い


.
飼育経験のない人にとって観賞魚の病気の早期発見は
困難
.
観賞魚が小さいために，病気の時に現れる外観や動
きの変化に気づきにくい




健康


白点病


熱帯魚の体に白い斑点


尾腐れ病


ヒレや尻尾が溶けるように
腐る



関連研究


.
画像
特徴を利用したイネ病気の判別・
分類［
2010
］
-
農業機械學
會誌
.
イネの病気に対して形状特徴・色特徴を判別条件とした．
6
種類の判
別分析法のうち，
SVM
の精度が
86
％で最も良好であった．


.
画像処理によるキュウリの葉の病気
診断［
2011
］
-
愛知教育大学
研究
報告
.
フラクタル次元がモザイク病識別に有効な特徴量であることを
示
した．


.
画像処理を用いた研磨面の評価［
2016
］
-
精密
工学会
.
研磨面の評価が写像性の類似度を用いて可能であることを示した．


.
ベルマークの画像識別［
2014
］
-
第
76
回全国大会講演論
文集
.
SURF
特徴が回転・スケールの変化・欠損に強いことを示した．





研究動機


.
観賞魚の外観の変化に着目して病気判定する場合，画
像認識技術を適用することが
可能


.
下記の課題点がある
.
観賞魚の個体の識別
.
観賞魚の特徴点や変化点が鮮明に映る理想的な
デー
タ
.
個体別の
模様
の
考慮
.
類似度を算出する際の比較データが１枚だけでは判
定材料が少なく正確な判定が困難





提案
方式


.
観賞魚
の個体
画像集合を
時系列で分類し，画
像類似度の差分を変化値として捉え，病気判
定する方式を提案
.
実験により実現可能性を検証する．
.
特定
の観賞魚の症状変化を追跡
.
模様に依存しない外観変化を検知





本研究のアプローチ


.
従来の手法では，初期
画像
集合
(
複数
)
と識
別画像
(1
枚
)
を比較
.
本研究では，初期画像集合
Ix(0)
と識
別画像集合
Ix(t)
を比較し，類
似度を検出
.
識別
画像集合
の類似
度
を前日の画像集合・初期画像集合と比較
→ 
類似度の差分がしきい値を超えたら外観変化を検知


Ix(1)


Ix(2)


Ix(3)


類似
度
：
0.90


類似
度
：
0.87


類似
度
：
0.77


外観変化
を検知


差分：
0.03


差分：
0.10


Ix(0)



画像集合間の類似度算出
概要
図


i
x
(0, 1)


・
・
・


・
・
・


i
x
(0, 2)


i
x
(0, 3)


i
x
(0, 
N
0
x
)


i
x
(
t
, 1)


i
x
(
t
, 2)


i
x
(
t
, 3)


i
x
(
t
, 
Nt
x
)


初期画像
集合


識別画像集合


初期画像集合と
i
x
(
t
, 1
)
の


類似度


初期画像集合と
i
x
(
t
, 
2)
の


類似度


初期画像集合と
i
x
(
t
, 
3)
の


類似度


…


初期画像集合と
i
x
(
t
, 
Nt
x
)
の類似度


i
x
(
t
, 1
)
〜
i
x
(
t
, 
Nt
x
)
の類似度の合計
を画像集合間の類似度とする



外観変化の検知機能
概要
図


初期画像
集合
I
x
(0
)


識別
する画像集合
I
x
(
t
)


類似度スコア
U
x
(0, 
t
)
を算
出


外観
変化検出


類似度スコアの差分
δ
x
(
t
p
, 
t
q
)
を算
出


δ
x
(
t
-
1, 
t
)
>
し
きい値
θ
2


True


Fals
e


外観変化なし


差分
δ
x
(0, 
t
)
>
し
きい
値
θ
3


Fals
e


True



システム概要図


分類
器


個体判定・
差分を検出


差がしき
い
値
を超えた場合，
外観変化の判
定


画像


(
複数枚
)


個体
ID
・


差分・撮影日を
タグ付け


時系列で分類


学習データ
に追加


前回
の画像集合・
初期画像集合と


識別画像集合の


類似度を比較


提案
方式



実験状況（１）


.
魚の画像収集が難航しているため，無地の
折り紙と千代紙を魚
と見立てて
各
300
枚ずつ撮影し，
MATLAB
を用い
た
疑似実験
.
模様も判定箇所として誤認す
る
ため，正答率が
低下


尾腐れ病


白点病


健康


無地（変化大）


92.41


98.10


96.84


無地（変化小）


77.85


88.61


72.78


千代紙（変化小）


62.68


48.80


51.67




尾腐れ病（変化大）


白点病（変化大）


正答率（％）


尾腐れ病（変化小）


白点
病（変化小）



実験状況（２）


.
千代紙を
100
枚撮影し，
MATLAB
を用いた類似画像検索実験
.
検索対象のイメージ特徴にカラー情報を利用
.
色の空間配置
が
特徴のため，画像の向きが類似度に影響


ID


9


18


19


4


類似度


0.3550


0.3176


0.2157


0.1895




検索対象


検索結果


（
ID:9
）


検索結果


（
ID:19
）


検索結果


（
ID:18
）


検索結果


（
ID:4
）


合計：
1.0778


平均：
0.2695



今後のスケジュール


.
提案
方式
を数式化（計算式の定義）
.
データ
収集
.
折り紙を用いた疑似実験画像
.
魚の
画像
.
データ拡張


.
実験
.
同一個体の判定
.
症状
変化
の判定
.
病気
の判定


.
論文執筆


枚数


エンゼルフィッシュ
（健康）


100


エンゼルフィッシュ
（白点病）


45


エンゼルフィッシュ
（尾腐れ病）


35




現在のデータ収集状況



